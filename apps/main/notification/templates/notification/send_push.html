{% extends 'layouts/base.html' %}
{% load static i18n %}

{% block breadcrumbs %}
    <nav aria-label="breadcrumb">
      <ol class="breadcrumb bg-transparent px-0 mb-2">
        <li class="breadcrumb-item"><a href="/admin/">Admin</a></li>
        <li class="breadcrumb-item"><a href="#">Notificações</a></li>
        <li class="breadcrumb-item active" aria-current="page">Enviar Push</li>
      </ol>
    </nav>
{% endblock breadcrumbs %}

{% block content %}
<div class="container mt-4" style="max-width: 540px;">
    <h1 class="display-5 mb-4">{% trans "Enviar Notificação Push" %}</h1>
    <div class="card shadow-sm border-0 mb-4">
      <div class="card-body">
        <form method="post" autocomplete="off">
          {% csrf_token %}
          <div class="mb-3">
            <label for="message" class="form-label fw-bold">{% trans "Mensagem" %}</label>
            <textarea class="form-control" id="message" name="message" rows="3" maxlength="255" required placeholder="Digite a mensagem a ser enviada..."></textarea>
            <div class="form-text text-end"><span id="charCount">0</span>/255</div>
          </div>
          <button type="submit" class="btn btn-primary w-100 py-2">{% trans "Enviar Notificação" %}</button>
        </form>
      </div>
    </div>
    <div class="alert alert-info small">
      <b>Dica:</b> Todos os usuários inscritos no push receberão a mensagem instantaneamente.<br>
      Use para alertas importantes, avisos de manutenção, etc.
    </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const textarea = document.getElementById('message');
    const charCount = document.getElementById('charCount');
    if (textarea && charCount) {
      textarea.addEventListener('input', function() {
        charCount.textContent = textarea.value.length;
      });
    }
  });
</script>
{% endblock content %} 